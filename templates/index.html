<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WiFi QR Code Scanner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <nav class="navbar navbar-dark bg-primary">
        <div class="container">
            <span class="navbar-brand mb-0 h1">
                <i class="fas fa-wifi me-2"></i>WiFi QR Scanner
            </span>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Upload Section -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-upload me-2"></i>Upload QR Code Image
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="upload-area" id="uploadArea">
                            <input type="file" id="fileInput" accept="image/*" class="d-none">
                            <div class="upload-content text-center">
                                <i class="fas fa-cloud-upload-alt fa-3x text-muted mb-3"></i>
                                <p class="mb-2">Drop your QR code image here or click to browse</p>
                                <small class="text-muted">Supports: PNG, JPG, JPEG, GIF, BMP, WebP (Max 16MB)</small>
                            </div>
                        </div>
                        
                        <div id="uploadProgress" class="mt-3 d-none">
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%"></div>
                            </div>
                            <small class="text-muted">Processing QR code...</small>
                        </div>
                    </div>
                </div>

                <!-- Webcam Section (Local Only) -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-camera me-2"></i>Webcam Scanner
                        </h5>
                    </div>
                    <div class="card-body text-center">
                        <button id="webcamBtn" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-camera me-2"></i>Scan with Webcam
                        </button>
                        <p class="text-muted mt-2 mb-0">
                            <small><i class="fas fa-info-circle me-1"></i>Works when running locally on Windows</small>
                        </p>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsCard" class="card d-none">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-search me-2"></i>Scan Results
                        </h5>
                        <button id="clearResults" class="btn btn-sm btn-outline-secondary">
                            <i class="fas fa-times me-1"></i>Clear
                        </button>
                    </div>
                    <div class="card-body">
                        <div id="resultsContent"></div>
                    </div>
                </div>

                <!-- Help Section -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-question-circle me-2"></i>How to Use
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6><i class="fas fa-qrcode me-2 text-primary"></i>Generate WiFi QR Code</h6>
                                <p class="text-muted small">
                                    Use online generators to create QR codes with format:<br>
                                    <code>WIFI:T:WPA;S:NetworkName;P:Password;;</code>
                                </p>
                            </div>
                            <div class="col-md-6">
                                <h6><i class="fas fa-desktop me-2 text-success"></i>Local Deployment</h6>
                                <p class="text-muted small">
                                    Download the code and run locally on Windows for:<br>
                                    • Webcam scanning • Automatic WiFi connection
                                </p>
                            </div>
                        </div>
                        
                        <div class="alert alert-info mt-3">
                            <h6><i class="fas fa-info-circle me-2"></i>Supported Security Types</h6>
                            <ul class="mb-0 small">
                                <li><strong>WPA/WPA2/WPA3:</strong> Most common, uses passphrase</li>
                                <li><strong>WEP:</strong> Legacy security (not recommended)</li>
                                <li><strong>Open/None:</strong> No password required</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="alertToast" class="toast" role="alert">
            <div class="toast-header">
                <i id="toastIcon" class="fas fa-info-circle me-2"></i>
                <strong class="me-auto" id="toastTitle">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="toastMessage"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
